# Auto-Generated by cargo-ebuild 0.1.3

EAPI=6

CRATES="
syntex-0.50.0
aho-corasick-0.5.2
ansi_term-0.9.0
bitflags-0.7.0
bodyparser-0.4.1
clap-2.19.2
conduit-mime-types-0.7.3
constant_time_eq-0.1.2
cookie-0.2.5
docopt-0.6.86
dtoa-0.2.2
env_logger-0.3.4
error-0.1.9
gcc-0.3.41
gcc-0.3.35
hpack-0.2.0
httparse-1.1.2
hyper-0.9.10
idna-0.1.0
iron-0.4.0
iron-hmac-0.4.0
itoa-0.1.1
kernel32-sys-0.2.2
language-tags-0.2.2
lazy_static-0.2.1
lazy_static-0.1.16
libc-0.2.15
log-0.3.6
logger-0.1.0
matches-0.1.2
memchr-0.1.11
mime-0.2.2
modifier-0.1.0
num-traits-0.1.35
num_cpus-0.2.13
num_cpus-1.2.1
persistent-0.2.0
plugin-0.2.6
quote-0.3.10
racer-2.0.2
rand-0.3.14
redox_syscall-0.1.16
regex-0.1.73
regex-syntax-0.3.4
route-recognizer-0.1.11
router-0.2.0
rust-crypto-0.2.36
rustc-serialize-0.3.19
rustc_version-0.1.7
semver-0.1.20
serde-0.8.4
serde_codegen-0.8.20
serde_codegen_internals-0.11.2
serde_json-0.8.1
solicit-0.4.4
strsim-0.5.1
syn-0.10.3
syntex-0.54.0
syntex_errors-0.50.0
syntex_errors-0.52.0
syntex_pos-0.50.0
syntex_pos-0.52.0
syntex_syntax-0.50.0
syntex_syntax-0.52.0
term-0.4.4
term_size-0.2.1
thread-id-2.0.0
thread_local-0.2.6
time-0.1.35
toml-0.2.1
traitobject-0.0.1
traitobject-0.0.3
typeable-0.1.2
typed-arena-1.2.0
typemap-0.3.3
unicase-1.4.0
unicode-bidi-0.2.3
unicode-normalization-0.1.2
unicode-segmentation-0.1.2
unicode-width-0.1.4
unicode-width-0.1.3
unicode-xid-0.0.3
unicode-xid-0.0.4
unsafe-any-0.4.1
url-1.2.0
utf8-ranges-0.1.3
vec_map-0.6.0
winapi-0.2.8
winapi-build-0.1.1
"
#libracerd-0.3.3

inherit cargo eutils

DESCRIPTION="libracerd"
HOMEPAGE=""
SRC_URI="$(cargo_crate_uris ${CRATES})"
COMMIT="dc090ea11d550cd513416d21227d558dbfd2fcb6"
SRC_URI+=" https://github.com/jwilm/racerd/archive/${COMMIT}.zip -> ${P}.zip"
RESTRICT="mirror"
LICENSE="unknown license" # Update to proper Gentoo format
SLOT="0"
KEYWORDS="~amd64 ~x86"
IUSE=""

DEPEND=""
RDEPEND=""

CARGO_TOML_VERSION="0.3.3"
S="${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}"

src_unpack() {
	cargo_src_unpack

	unpack ${A}

	mkdir -p "${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}" || die

	mv "${WORKDIR}/racerd-${COMMIT}"/* "${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}" || die
	cp "${FILESDIR}/.cargo-checksum.json" "${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}"
	sed -i -e "s|SHA256_CARGO_TOML_HASH|$(sha256sum ${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}/Cargo.toml.${PV})|g" "${WORKDIR}/cargo_home/gentoo/${PN}-${CARGO_TOML_VERSION}/.cargo-checksum.json"

	cp "${FILESDIR}/Cargo.toml.${PV}" "${S}"
}


src_prepare() {
	default

	eapply_user
}

